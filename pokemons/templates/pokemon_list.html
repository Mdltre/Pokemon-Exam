{% extends "base.html" %}


{% block title %}Pokedex{% endblock %}

{% block header %}
<h1 class="center">Pokedex</h1>
{% endblock %} 

{% block content %}

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  {% if user.is_authenticated %}
  <a class="navbar-brand">Hello, {{user.username}}!</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="{% url 'pokedex' %}">Pokedex List</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'create-pokemon' %}">Create Pokemon</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'register' %}">Create Users</a>
      </li>
      <li class="nav-item">
        {% if error %}
          <p style="color: red;" class="text-center">Please submit a search term.</p>
        {% endif %}
          <form action="/pokedex/search/" method="get" class="text-center">
          <input type="text" name="query">
          <input type="submit" value="Search">
          </form>
      </li>
      <li class="nav-item">
          <a class="nav-link" href="{% url 'logout' %}">Log Out</a>
      </li>
    </ul>
  </div>
  {% else %}
  <a class="navbar-brand">Public Guest</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="{% url 'pokedex' %}">Pokedex List</a>
      </li>
      <li class="nav-item">
        {% if error %}
          <p style="color: red;" class="text-center">Please submit a search term.</p>
        {% endif %}
          <form action="/pokedex/search/" method="get" class="text-center">
          <input type="text" name="query">
          <input type="submit" value="Search">
          </form>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="{% url 'register' %}">Register</a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="{% url 'login' %}">Login</a>
      </li>
      {% endif %}
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          Filter: Type
        </a>
        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
          <li><a class="dropdown-item" href="#">Shadow</a></li>
          <li><a class="dropdown-item" href="#">Unknown</a></li>
          <li><a class="dropdown-item" href="#">Fairy</a></li>
          <li><a class="dropdown-item" href="#">Dark</a></li>
          <li><a class="dropdown-item" href="#">Dragon</a></li>
          <li><a class="dropdown-item" href="#">Ice</a></li>
          <li><a class="dropdown-item" href="#">Psychic</a></li>
          <li><a class="dropdown-item" href="#">Electric</a></li>
          <li><a class="dropdown-item" href="#">Grass</a></li>
          <li><a class="dropdown-item" href="#">Water</a></li>
          <li><a class="dropdown-item" href="#">Fire</a></li>
          <li><a class="dropdown-item" href="#">Steel</a></li>
          <li><a class="dropdown-item" href="#">Ghost</a></li>
          <li><a class="dropdown-item" href="#">Bug</a></li>
          <li><a class="dropdown-item" href="#">Rock</a></li>
          <li><a class="dropdown-item" href="#">Ground</a></li>
          <li><a class="dropdown-item" href="#">Poison</a></li>
          <li><a class="dropdown-item" href="#">Flying</a></li>
          <li><a class="dropdown-item" href="#">Fighting</a></li>
          <li><a class="dropdown-item" href="#">Normal</a></li>
        </ul>
      </li>
    </ul>
  </div>
</nav>


{% if pokemons %}
<p>Found {{ pokemons|length }} pokemon{{ pokemons|pluralize }}.</p>
<ul>
  {% for pokemon in pokemons %}
  <li>{{ pokemon.pokemon_name }}</li>
  {% endfor %}
</ul>
{% else %}
<p class="text-center"></p>
{% endif %}
{% if pokemons.exists %}
{% for result in pokemons %}
{{ result }}
{% endfor %}
{% endif %}

<div class="container">
    <div class="row">
      <div class="col-sm">
      </div>
      <div class="col-l bg-light text-dark">
            <ul class="text-center">
            {% for pokemon in pokemon_list %}
                <p>
                  <a href = "{% url 'pokemon-information' pokemon.pk %}">{{pokemon.pokemon_name}}</a>

                </p>
            {% empty %}
                <li>No pokemons.</li>
            {% endfor %}
            </ul>
            {% endblock %}
      </div>
      <div class="col-sm">
      </div>
    </div>
  </div>